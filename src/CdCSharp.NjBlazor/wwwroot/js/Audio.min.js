var e,t;(t=e||(e={})).AudioJsClass=class{constructor(){this._audioMimeType="audio/mpeg",this._audioBitsPerSecond=256e3}RecordAudio(){return new Promise((async e=>{this._currentStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this._audioBitsPerSecond,this._audioMimeType;const t=new MediaRecorder(this._currentStream);let i=[];t.addEventListener("dataavailable",(e=>{i.push(e.data)})),e({start:()=>{i=[],t.start()},stop:()=>new Promise((e=>{t.addEventListener("stop",(()=>{const t=new Blob(i,{type:this._audioMimeType}),r=URL.createObjectURL(t),o=new Audio(r);e({audioChunks:i,audioBlob:t,audioUrl:r,play:()=>o.play()})})),t.stop()}))})}))}async StartRecording(){this._recorder||(this._recorder=await this.RecordAudio()),this._recorder.start()}async StopRecording(){return this._audio=await this._recorder.stop(),this._audio}async SetAudioSource(e){return e.src=this._audio.audioUrl,this._audio.audioUrl}async VisualizeCanvas(e){let t=this._currentStream;const i=e.getContext("2d");let r=new AudioContext;const o=r.createMediaStreamSource(t),a=r.createAnalyser();a.fftSize=2048;const s=a.frequencyBinCount,n=new Uint8Array(s);o.connect(a),function t(){const r=e.width,o=e.height;requestAnimationFrame(t),a.getByteTimeDomainData(n);let d=getComputedStyle(e).getPropertyValue("background-color");i.fillStyle=d||"rgb(255,255,255)",i.fillRect(0,0,r,o),i.lineWidth=2,i.strokeStyle="rgb(0, 0, 0)",i.beginPath();let u=1*r/s,c=0;for(let e=0;e<s;e++){let t=n[e]/128*o/2;0===e?i.moveTo(c,t):i.lineTo(c,t),c+=u}i.lineTo(e.width,e.height/2),i.stroke()}()}},t.getCSS=function(e){for(var t="",i=getComputedStyle(e),r=0;r<i.length;r++)t+=i[r]+":"+i.getPropertyValue(i[r])+";<br>";return t},window.AudioJs=new e.AudioJsClass;
//# sourceMappingURL=Audio.min.js.map
